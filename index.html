<html>

<head>
  <script src="https://remarkjs.com/downloads/remark-latest.min.js">

  </script>
</head>

<body>

  <script type="text/javascript">
    var ul = document.createElement("ul");
    function appendSlide(slide) {
      var link = Object.assign(document.createElement("a"), {
        target: "_blank",
        href: "viewer.html#" + slide,
        innerText: slide
      });
      var li = document.createElement("li");
      li.appendChild(link);
      ul.appendChild(li);
    };

    fetch("/book.txt")
      .then(resp => resp.text())
      .then(function (text) {
        var lines = text.split("\n");
        var slideNames = lines.map(line => line.replace(".md", ""));
        slideNames.pop();
        slideNames.forEach(appendSlide);
        document.body.appendChild(ul);
      });
  </script>
</body>

</html>
